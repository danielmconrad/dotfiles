#!/bin/sh

{{ include "utilities.sh" }}

log_section "Installing Apps & Configurations"

{{ if eq .chezmoi.os "darwin" }}
  install_brew vim
  install_brew_cask appcleaner
  install_brew_cask balenaetcher
  install_brew_cask code
  install_brew_cask dashlane
  install_brew_cask discord
  install_brew_cask docker
  install_brew_cask google-chrome
  install_brew_cask imageoptim
  install_brew_cask licecap
  install_brew_cask signal
  install_brew_cask slack
  install_brew_cask soundsource
  install_brew_cask spotify
  install_brew_cask tableplus

  install_brew_cask iterm2
  yes | cp -rf ~/.configs/iterm2.plist ~/Library/Preferences/com.googlecode.iterm2.plist

  install_brew_cask spectacle
  mkdir -p ~/Library/Application\ Support/Spectacle/
  yes | cp -rf ~/.configs/spectacle.json ~/Library/Application\ Support/Spectacle/Shortcuts.json
{{ end }}

{{ if eq .chezmoi.os "linux" }}
  install_apt make
  install_apt python3
  install_apt vim
  install_apt python3
  install_apt vim

  install_snap chromium
  install_snap code --classic
  install_snap slack
  install_snap spotify

  install_apt gnome-tweaks
  dconf load /org/gnome/terminal/legacy/profiles:/ < ~/.configs/gnome.dconf

  sudo addgroup --system docker
  sudo gpasswd -a $USER docker
  newgrp docker
  install_snap --edge docker
{{ end }}

